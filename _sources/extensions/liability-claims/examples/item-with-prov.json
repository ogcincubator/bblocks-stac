{
  "type": "Feature",
  "stac_version": "1.0.0",
  "stac_extensions": [
    "https://stac-extensions.github.io/liability-claims/v1.1.0/schema.json"
  ],
  "id": "item-with-w3c-prov-001",
  "bbox": [-122.5, 37.7, -122.3, 37.9],
  "geometry": {
    "type": "Polygon",
    "coordinates": [[
      [-122.5, 37.7],
      [-122.3, 37.7],
      [-122.3, 37.9],
      [-122.5, 37.9],
      [-122.5, 37.7]
    ]]
  },
  "properties": {
    "datetime": "2025-12-11T12:00:00Z",
    "title": "Processed Land Cover Map with W3C PROV Provenance",
    "description": "Land cover classification derived from satellite imagery with complete W3C PROV-compliant provenance tracking",
    "liability:claim_id": "CLM-PROV-001",
    "liability:claim_type": "environmental",
    "liability:origin": "Environmental Monitoring Agency",
    "liability:prov": {
      "prefix": {
        "ex": "http://example.org/claims/",
        "prov": "http://www.w3.org/ns/prov#",
        "xsd": "http://www.w3.org/2001/XMLSchema#",
        "foaf": "http://xmlns.com/foaf/0.1/"
      },
      "entity": {
        "ex:landcover_map_2025": {
          "prov:type": "prov:Dataset",
          "prov:label": "Land Cover Classification Map 2025",
          "prov:location": "s3://data-bucket/landcover_2025.tif",
          "ex:format": "GeoTIFF",
          "ex:spatialResolution": "10m",
          "ex:classes": 12
        },
        "ex:atmospherically_corrected": {
          "prov:type": "prov:Dataset",
          "prov:label": "Atmospherically Corrected Imagery",
          "prov:location": "s3://data-bucket/atmos_corrected.tif",
          "ex:format": "GeoTIFF"
        },
        "ex:sentinel2_l1c": {
          "prov:type": "prov:Dataset",
          "prov:label": "Sentinel-2 Level-1C MSI",
          "prov:location": "https://scihub.copernicus.eu/dhus/odata/v1/Products('abc123')",
          "ex:satellite": "Sentinel-2A",
          "ex:acquisitionDate": "2025-11-10T10:35:22Z"
        },
        "ex:training_samples": {
          "prov:type": "prov:Collection",
          "prov:label": "Land Cover Training Dataset",
          "ex:sampleCount": 5000,
          "ex:classes": 12
        },
        "ex:classification_model": {
          "prov:type": "prov:Plan",
          "prov:label": "Random Forest Classification Model",
          "ex:algorithm": "Random Forest",
          "ex:nEstimators": 500,
          "ex:maxDepth": 25
        }
      },
      "activity": {
        "ex:atmospheric_correction": {
          "prov:type": "ex:AtmosphericCorrection",
          "prov:label": "FLAASH Atmospheric Correction",
          "prov:startTime": "2025-11-15T08:30:00Z",
          "prov:endTime": "2025-11-15T10:45:00Z",
          "ex:software": "ENVI 5.6.3",
          "ex:algorithm": "FLAASH",
          "ex:atmosphericModel": "mid-latitude summer",
          "ex:aerosolModel": "maritime",
          "ex:visibility": "40km"
        },
        "ex:geometric_correction": {
          "prov:type": "ex:GeometricCorrection",
          "prov:label": "RPC Orthorectification",
          "prov:startTime": "2025-11-16T10:15:00Z",
          "prov:endTime": "2025-11-16T11:30:00Z",
          "ex:software": "ERDAS IMAGINE 2022",
          "ex:method": "RPC orthorectification",
          "ex:demSource": "SRTM 30m",
          "ex:gcpCount": 25,
          "ex:rmsError": "0.4 pixels"
        },
        "ex:classification": {
          "prov:type": "ex:Classification",
          "prov:label": "Random Forest Land Cover Classification",
          "prov:startTime": "2025-11-20T14:00:00Z",
          "prov:endTime": "2025-11-20T16:30:00Z",
          "ex:software": "Python scikit-learn 1.3.2",
          "ex:algorithm": "Random Forest"
        },
        "ex:training_data_collection": {
          "prov:type": "ex:DataCollection",
          "prov:label": "Field Survey for Training Data",
          "prov:startTime": "2025-11-01T09:00:00Z",
          "prov:endTime": "2025-11-12T17:00:00Z",
          "ex:method": "Stratified random sampling",
          "prov:location": "Study area - San Francisco Bay"
        }
      },
      "agent": {
        "ex:dr_jane_smith": {
          "prov:type": "prov:Person",
          "prov:label": "Dr. Jane Smith",
          "foaf:name": "Dr. Jane Smith",
          "foaf:mbox": "mailto:jane.smith@rsinstitute.org",
          "ex:orcid": "0000-0001-2345-6789",
          "ex:role": "Principal Investigator"
        },
        "ex:john_doe": {
          "prov:type": "prov:Person",
          "prov:label": "John Doe",
          "foaf:name": "John Doe",
          "foaf:mbox": "mailto:j.doe@geolab.org",
          "ex:role": "GIS Analyst"
        },
        "ex:dr_maria_garcia": {
          "prov:type": "prov:Person",
          "prov:label": "Dr. Maria Garcia",
          "foaf:name": "Dr. Maria Garcia",
          "foaf:mbox": "mailto:m.garcia@eocenter.org",
          "ex:role": "Classification Specialist"
        },
        "ex:remote_sensing_institute": {
          "prov:type": "prov:Organization",
          "prov:label": "Remote Sensing Institute",
          "foaf:name": "Remote Sensing Institute",
          "foaf:homepage": "https://rsinstitute.org"
        },
        "ex:geoprocessing_lab": {
          "prov:type": "prov:Organization",
          "prov:label": "Geospatial Processing Lab",
          "foaf:name": "Geospatial Processing Lab"
        },
        "ex:earth_obs_center": {
          "prov:type": "prov:Organization",
          "prov:label": "Earth Observation Center",
          "foaf:name": "Earth Observation Center"
        },
        "ex:envi_software": {
          "prov:type": "prov:SoftwareAgent",
          "prov:label": "ENVI 5.6.3",
          "ex:version": "5.6.3",
          "ex:vendor": "Harris Geospatial Solutions"
        },
        "ex:erdas_software": {
          "prov:type": "prov:SoftwareAgent",
          "prov:label": "ERDAS IMAGINE 2022",
          "ex:version": "2022",
          "ex:vendor": "Hexagon Geospatial"
        },
        "ex:sklearn_software": {
          "prov:type": "prov:SoftwareAgent",
          "prov:label": "scikit-learn",
          "ex:version": "1.3.2",
          "ex:language": "Python"
        }
      },
      "wasGeneratedBy": {
        "_:wgb1": {
          "prov:entity": "ex:atmospherically_corrected",
          "prov:activity": "ex:atmospheric_correction",
          "prov:time": "2025-11-15T10:45:00Z"
        },
        "_:wgb2": {
          "prov:entity": "ex:landcover_map_2025",
          "prov:activity": "ex:classification",
          "prov:time": "2025-11-20T16:30:00Z"
        },
        "_:wgb3": {
          "prov:entity": "ex:training_samples",
          "prov:activity": "ex:training_data_collection",
          "prov:time": "2025-11-12T17:00:00Z"
        }
      },
      "used": {
        "_:u1": {
          "prov:activity": "ex:atmospheric_correction",
          "prov:entity": "ex:sentinel2_l1c",
          "prov:time": "2025-11-15T08:30:00Z"
        },
        "_:u2": {
          "prov:activity": "ex:geometric_correction",
          "prov:entity": "ex:atmospherically_corrected",
          "prov:time": "2025-11-16T10:15:00Z"
        },
        "_:u3": {
          "prov:activity": "ex:classification",
          "prov:entity": "ex:atmospherically_corrected",
          "prov:time": "2025-11-20T14:00:00Z"
        },
        "_:u4": {
          "prov:activity": "ex:classification",
          "prov:entity": "ex:training_samples",
          "prov:time": "2025-11-20T14:00:00Z",
          "prov:role": "training data"
        },
        "_:u5": {
          "prov:activity": "ex:classification",
          "prov:entity": "ex:classification_model",
          "prov:role": "classification plan"
        }
      },
      "wasDerivedFrom": {
        "_:wdf1": {
          "prov:generatedEntity": "ex:atmospherically_corrected",
          "prov:usedEntity": "ex:sentinel2_l1c",
          "prov:activity": "ex:atmospheric_correction",
          "prov:generation": "_:wgb1",
          "prov:usage": "_:u1"
        },
        "_:wdf2": {
          "prov:generatedEntity": "ex:landcover_map_2025",
          "prov:usedEntity": "ex:sentinel2_l1c",
          "prov:type": "prov:Derivation"
        }
      },
      "wasAssociatedWith": {
        "_:waw1": {
          "prov:activity": "ex:atmospheric_correction",
          "prov:agent": "ex:dr_jane_smith",
          "prov:role": "Principal Investigator"
        },
        "_:waw2": {
          "prov:activity": "ex:atmospheric_correction",
          "prov:agent": "ex:envi_software",
          "prov:role": "Software Tool"
        },
        "_:waw3": {
          "prov:activity": "ex:geometric_correction",
          "prov:agent": "ex:john_doe",
          "prov:role": "GIS Analyst"
        },
        "_:waw4": {
          "prov:activity": "ex:geometric_correction",
          "prov:agent": "ex:erdas_software",
          "prov:role": "Software Tool"
        },
        "_:waw5": {
          "prov:activity": "ex:classification",
          "prov:agent": "ex:dr_maria_garcia",
          "prov:role": "Classification Specialist"
        },
        "_:waw6": {
          "prov:activity": "ex:classification",
          "prov:agent": "ex:sklearn_software",
          "prov:role": "Software Tool",
          "prov:plan": "ex:classification_model"
        }
      },
      "wasAttributedTo": {
        "_:wat1": {
          "prov:entity": "ex:landcover_map_2025",
          "prov:agent": "ex:earth_obs_center"
        },
        "_:wat2": {
          "prov:entity": "ex:landcover_map_2025",
          "prov:agent": "ex:dr_maria_garcia"
        }
      },
      "actedOnBehalfOf": {
        "_:aobo1": {
          "prov:delegate": "ex:dr_jane_smith",
          "prov:responsible": "ex:remote_sensing_institute",
          "prov:activity": "ex:atmospheric_correction"
        },
        "_:aobo2": {
          "prov:delegate": "ex:john_doe",
          "prov:responsible": "ex:geoprocessing_lab",
          "prov:activity": "ex:geometric_correction"
        },
        "_:aobo3": {
          "prov:delegate": "ex:dr_maria_garcia",
          "prov:responsible": "ex:earth_obs_center",
          "prov:activity": "ex:classification"
        }
      },
      "wasInformedBy": {
        "_:wib1": {
          "prov:informed": "ex:geometric_correction",
          "prov:informant": "ex:atmospheric_correction"
        },
        "_:wib2": {
          "prov:informed": "ex:classification",
          "prov:informant": "ex:geometric_correction"
        }
      }
    }
  },
  "links": [
    {
      "rel": "self",
      "href": "./item-with-prov.json",
      "type": "application/geo+json"
    },
    {
      "rel": "root",
      "href": "../collection.json",
      "type": "application/json"
    },
    {
      "rel": "related",
      "href": "https://www.w3.org/TR/prov-overview/",
      "type": "text/html",
      "title": "W3C PROV Overview"
    }
  ],
  "assets": {
    "landcover": {
      "href": "https://data.example.org/landcover_2025.tif",
      "type": "image/tiff; application=geotiff; profile=cloud-optimized",
      "title": "Land Cover Classification Map",
      "roles": ["data"],
      "liability:security_classification": "public"
    },
    "prov-graph": {
      "href": "./provenance.svg",
      "type": "image/svg+xml",
      "title": "PROV Provenance Graph Visualization",
      "roles": ["metadata", "overview"]
    }
  }
}
